(function(){"use strict";var e={502:function(e,t,a){var n=a(963),o=a(252),s=a.p+"img/avatar.b1ae2666.png";const l={class:"app__wrapper"},i=(0,o.uE)('<header class="header" data-v-2827d8be><div class="header__content" data-v-2827d8be><div class="user" data-v-2827d8be><img class="user__avatar" src="'+s+'" alt="User avatar" data-v-2827d8be><h2 class="user__name" data-v-2827d8be>Ricardo Cooper</h2></div><div class="contacts" data-v-2827d8be><div class="contacts__buttons" data-v-2827d8be><button class="btn" data-v-2827d8be><svg width="16" height="12" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-2827d8be><path d="M0.00300002 1.884L8 5.882L15.997 1.884C15.9674 1.37444 15.7441 0.895488 15.3728 0.545227C15.0016 0.194965 14.5104 -9.35847e-05 14 3.36834e-08H2C1.48958 -9.35847e-05 0.998447 0.194965 0.627178 0.545227C0.255908 0.895488 0.0326041 1.37444 0.00300002 1.884Z" fill="#9CA3AF" data-v-2827d8be></path><path d="M16 4.118L8 8.118L0 4.118V10C0 10.5304 0.210714 11.0391 0.585786 11.4142C0.960859 11.7893 1.46957 12 2 12H14C14.5304 12 15.0391 11.7893 15.4142 11.4142C15.7893 11.0391 16 10.5304 16 10V4.118Z" fill="#9CA3AF" data-v-2827d8be></path></svg> Message </button><button class="btn" data-v-2827d8be><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-2827d8be><path d="M0 1C0 0.447715 0.447715 0 1 0H3.15287C3.64171 0 4.0589 0.353413 4.13927 0.835601L4.87858 5.27147C4.95075 5.70451 4.73206 6.13397 4.3394 6.3303L2.79126 7.10437C3.90756 9.87832 6.12168 12.0924 8.89563 13.2087L9.6697 11.6606C9.86603 11.2679 10.2955 11.0492 10.7285 11.1214L15.1644 11.8607C15.6466 11.9411 16 12.3583 16 12.8471V15C16 15.5523 15.5523 16 15 16H13C5.8203 16 0 10.1797 0 3V1Z" fill="#9CA3AF" data-v-2827d8be></path></svg> Call </button></div></div></div></header>',1),d={class:"main"};function r(e,t,a,s,r,m){const c=(0,o.up)("gallery-component"),g=(0,o.up)("modal-window");return(0,o.wg)(),(0,o.iD)("div",l,[i,(0,o._)("main",d,[(0,o.Wm)(c,{onOpenModal:m.openModal},null,8,["onOpenModal"]),(0,o.Wm)(n.uT,{name:"modal"},{default:(0,o.w5)((()=>[r.selectedImgId?((0,o.wg)(),(0,o.j4)(g,{key:0,onCloseModal:m.closeModal,selectedImgId:r.selectedImgId},null,8,["onCloseModal","selectedImgId"])):(0,o.kq)("",!0)])),_:1})])])}var m=a(577);const c=["src","data-id"],g={class:"gallery__title"};function u(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("section",{onClick:t[0]||(t[0]=(0,n.iM)(((...e)=>i.chooseImage&&i.chooseImage(...e)),["prevent"])),class:"gallery"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.imagesList,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"gallery__item",key:e.id},[(0,o._)("img",{class:"gallery__img",src:e.url,"data-id":e.id,alt:"Gallery image"},null,8,c),(0,o._)("p",g,"id: "+(0,m.zw)(e.id),1)])))),128))])}var p={name:"GalleryComponent",emits:["openModal"],data(){return{imagesList:[]}},created(){this.loadImagesList()},methods:{loadImagesList(){fetch("https://boiling-refuge-66454.herokuapp.com/images").then((e=>e.json())).then((e=>this.imagesList=e))},chooseImage(e){if("IMG"===e.target.tagName){const t=e.target.getAttribute("data-id");this.$emit("openModal",t)}}}},h=a(744);const v=(0,h.Z)(p,[["render",u],["__scopeId","data-v-382c4032"]]);var _=v;const f=e=>((0,o.dD)("data-v-09d73b35"),e=e(),(0,o.Cn)(),e),w={class:"modal__wrapper"},b=["src"],C={key:0,class:"modal__comments"},y={class:"comment__wrapper"},I={class:"comment__user"},M={class:"comment__date"},D={class:"comment__text"},x={class:"modal__comment-input"},k=f((()=>(0,o._)("label",{class:"label_textarea",for:"textarea"},"Comment",-1))),L=f((()=>(0,o._)("p",{class:"help-text"},"Write a few sentences about the photo.",-1))),O={class:"modal__buttons"},j=f((()=>(0,o._)("button",{class:"btn_modal",id:"closeBtn"},"Close",-1)));function A(e,t,a,s,l,i){return(0,o.wg)(),(0,o.iD)("div",{class:"modal__mask",id:"modalMask",onClick:t[2]||(t[2]=(...e)=>i.closeModal&&i.closeModal(...e))},[(0,o._)("div",w,[(0,o._)("img",{class:"modal__image",src:this.imageData.url,alt:"Big gallery image"},null,8,b),i.commentsList?((0,o.wg)(),(0,o.iD)("div",C,[(0,o._)("div",y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.commentsList,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"comment",key:e.id},[(0,o._)("p",I,(0,m.zw)(e.name),1),(0,o._)("p",M,(0,m.zw)(i.getFormattedDate(e.date)),1),(0,o._)("p",D,(0,m.zw)(e.text),1)])))),128))])])):(0,o.kq)("",!0),(0,o._)("div",x,[k,(0,o.wy)((0,o._)("textarea",{class:"textarea",name:"comment",id:"textarea","onUpdate:modelValue":t[0]||(t[0]=e=>l.newComment.text=e),rows:"5"},null,512),[[n.nr,l.newComment.text]]),L]),(0,o._)("div",O,[(0,o._)("button",{class:"btn_modal",onClick:t[1]||(t[1]=(...e)=>i.sendComment&&i.sendComment(...e))},"Save"),j])])])}var B={name:"ModalWindow",props:{selectedImgId:String},emits:["closeModal"],data(){return{imageData:[],newComment:{id:"",name:"User",text:"",date:""}}},created(){this.loadImageData(this.selectedImgId)},computed:{commentsList(){return!(!this.imageData.comments||0===this.imageData.comments.length)&&this.imageData.comments}},methods:{loadImageData(e){fetch(`https://boiling-refuge-66454.herokuapp.com/images/${e}`).then((e=>e.json())).then((e=>{e.comments=e.comments.map((e=>({...e,name:"User"}))),this.imageData=e}))},closeModal(e){const t=e.target.id;"modalMask"!==t&&"closeBtn"!==t||this.$emit("closeModal")},getFormattedDate(e){return new Date(e).toLocaleString()},sendComment(){if(""===this.newComment.text)return;this.newComment.id=Date.now(),this.newComment.date=Date.now(),this.imageData.comments.push(this.newComment);const{name:e,text:t}=this.newComment;fetch(`https://boiling-refuge-66454.herokuapp.com/images/${this.selectedImgId}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,comment:t})}),this.newComment={id:"",name:"User",text:"",date:""}}}};const T=(0,h.Z)(B,[["render",A],["__scopeId","data-v-09d73b35"]]);var F=T,H={name:"App",components:{GalleryComponent:_,ModalWindow:F},data(){return{selectedImgId:null}},methods:{openModal(e){this.selectedImgId=e,document.getElementsByTagName("body")[0].classList.toggle("scroll-prevent",!0)},closeModal(){this.selectedImgId=null,document.getElementsByTagName("body")[0].classList.toggle("scroll-prevent",!1)}}};const Z=(0,h.Z)(H,[["render",r],["__scopeId","data-v-2827d8be"]]);var S=Z;(0,n.ri)(S).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,s){if(!n){var l=1/0;for(m=0;m<e.length;m++){n=e[m][0],o=e[m][1],s=e[m][2];for(var i=!0,d=0;d<n.length;d++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[d])}))?n.splice(d--,1):(i=!1,s<l&&(l=s));if(i){e.splice(m--,1);var r=o();void 0!==r&&(t=r)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[n,o,s]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/adaptive-gallery/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,l=n[0],i=n[1],d=n[2],r=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(d)var m=d(a)}for(t&&t(n);r<l.length;r++)s=l[r],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(m)},n=self["webpackChunkadaptive_gallery"]=self["webpackChunkadaptive_gallery"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(502)}));n=a.O(n)})();
//# sourceMappingURL=app.84f0cd5c.js.map